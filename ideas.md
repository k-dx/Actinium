Ideas/todos:

- [ ] replace exception with monad in `return` handling
- [ ] monadic I/O
- [ ] use state monad instead of mutable memory